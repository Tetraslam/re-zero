willi@bill-fmwk-arch drone_bridge_re $ uv run drone-bridge
bridge: ap=/dev/ttyUSB0 sta=/dev/ttyUSB1 baud=921600 logdir=logs capture=logs/capture_1771130773.sf.bin
bridge: roles ap_role=AP sta_role=STA
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: set_country schan=1 nchan=13 rc=258
[STA->AP] /dev/ttyUSB1 LOG: wifi: begin ssid=RADCLOFPV_839819
[STA->AP] /dev/ttyUSB1 LOG: wifi: STA_START
[STA->AP] /dev/ttyUSB1 LOG: wifi: STA_CONNECTED
[STA->AP] /dev/ttyUSB1 LOG: wifi: join_wait status=0 rssi=-13 last_reason=0
[STA->AP] /dev/ttyUSB1 LOG: wifi: GOT_IP ip=192.168.0.2 gw=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: wifi: status=3 rssi=-13
[STA->AP] /dev/ttyUSB1 LOG: wifi: connected ip=192.168.0.2 gw=192.168.0.1 mask=255.255.255.0 dns=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: drone: ip=192.168.0.1
[AP->STA] /dev/ttyUSB0 LOG: wifi: STA_CONNECTED mac=5a:9f:06:94:44:e9 aid=1 stations=1
[STA->AP] /dev/ttyUSB1 LOG: wifi: hb ssid=RADCLOFPV_839819 status=3 rssi=-14 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1 udp_tx=0 udp_rx=0
[STA->AP] /dev/ttyUSB1 LOG: wifi: hb ssid=RADCLOFPV_839819 status=3 rssi=-15 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1 udp_tx=0 udp_rx=0
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=7060 from=192.168.0.2:58346 conn=1
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=1 port=7060 len=46 head=6c657765695f636d6400020000000100000000000000000000000000000000000000000000000000000000000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=1 port=7060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=1 port=7060 rc=1
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=8060 from=192.168.0.2:58347 conn=2
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=2 port=8060 len=54 head=6c657765695f636d6400040000000000000000000000080000000000000000000000000000000000000000000000a26e906900000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=2 port=8060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=2 port=8060 rc=1
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_fail conn=1 port=7060 errno=104 err=Connection reset by peer
[AP->STA] /dev/ttyUSB0 LOG: tcp: open_fail conn=1 port=7060
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_fail conn=2 port=8060 errno=104 err=Connection reset by peer
[AP->STA] /dev/ttyUSB0 LOG: tcp: open_fail conn=2 port=8060
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=8060 from=192.168.0.2:58348 conn=3
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=3 port=8060 len=54 head=6c657765695f636d6400040000000000000000000000080000000000000000000000000000000000000000000000a26e906900000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=3 port=8060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=3 port=8060 rc=1
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_fail conn=3 port=8060 errno=104 err=Connection reset by peer
[AP->STA] /dev/ttyUSB0 LOG: tcp: open_fail conn=3 port=8060
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=7060 from=192.168.0.2:58349 conn=4
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=4 port=7060 len=46 head=6c657765695f636d6400020000000100000000000000000000000000000000000000000000000000000000000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=4 port=7060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=4 port=7060 rc=1
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_fail conn=4 port=7060 errno=104 err=Connection reset by peer
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=8060 from=192.168.0.2:58350 conn=5
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=5 port=8060 len=54 head=6c657765695f636d6400040000000000000000000000080000000000000000000000000000000000000000000000a26e906900000000
[AP->STA] /dev/ttyUSB0 LOG: tcp: open_fail conn=4 port=7060
[AP->STA] /dev/ttyUSB0 LOG: udp: first_rx from=192.168.0.2:6000 -> 40000 len=7
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=5 port=8060 wifi_status=3 rssi=-14 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=5 port=8060 rc=1
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_fail conn=5 port=8060 errno=104 err=Connection reset by peer
[AP->STA] /dev/ttyUSB0 LOG: tcp: open_fail conn=5 port=8060
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=8060 from=192.168.0.2:58351 conn=6
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=6 port=8060 len=54 head=6c657765695f636d6400040000000000000000000000080000000000000000000000000000000000000000000000a36e906900000000
[STA->AP] /dev/ttyUSB1 LOG: udp: first_rx_from_drone from=192.168.0.1:7070 -> local=6000 len=1454
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f27da70503f60e0000780500000000000000000000000000002003d00100002200000000000002000000000000010002007805ffd8ffe000104a464946
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=6 port=8060 wifi_status=3 rssi=-14 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=6 port=8060 rc=1
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_fail conn=6 port=8060 errno=104 err=Connection reset by peer
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[STA->AP] /dev/ttyUSB1 LOG: wifi: hb ssid=RADCLOFPV_839819 status=3 rssi=-14 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1 udp_tx=2 udp_rx=1
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f47da70503f60e0000681000000000000000000000000000002003d00100002200000000000002000000000000030004007805dd9a75306889901ed50b
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f67da70503f60e0000581b00000000000000000000000000002003d00100002200000000000002000000000000050006007805887152470e4f2290c228
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f47da70503f60e0000681000000000000000000000000000002003d00100002200000000000002000000000000030004007805dd9a75306889901ed50b
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f47da70503f60e0000681000000000000000000000000000002003d00100002200000000000002000000000000030004007805dd9a75306889901ed50b
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f47da70503f60e0000681000000000000000000000000000002003d00100002200000000000002000000000000030004007805dd9a75306889901ed50b
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f37da70503f60e0000f00a00000000000000000000000000002003d001000022000000000000020000000000000200030078052aa3a60918c508b4ee75
[STA->AP] /dev/ttyUSB1 UDP conn=6000 port=7070 len=1454 head=636303f57da70503f60e0000e01500000000000000000000000000002003d0010000220000000000000200000000000004000500780552d49baa22d49ba80b12
[STA->AP] /dev/ttyUSB1 LOG: wifi: hb ssid=RADCLOFPV_839819 status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1 udp_tx=4 udp_rx=209
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=7060 from=192.168.0.2:58352 conn=7
[AP->STA] /dev/ttyUSB0 LOG: tcp: replace port=8060 old_conn=6
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=8060 from=192.168.0.2:58353 conn=8
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=8 port=8060 len=54 head=6c657765695f636d6400040000000000000000000000080000000000000000000000000000000000000000000000a76e906900000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=7 port=7060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=7 port=7060 rc=1
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=7 port=7060 len=276 head=6c657765695f636d64000200000001000000000000000000000000000000000000000000000000000000000000006c657765695f636d64000100000000000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=8 port=8060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=8 port=8060 rc=1
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 LOG: tcp: replace port=8060 old_conn=8
[AP->STA] /dev/ttyUSB0 LOG: tcp: accept port=8060 from=192.168.0.2:58354 conn=9
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=9 port=8060 len=54 head=6c657765695f636d6400040000000000000000000000080000000000000000000000000000000000000000000000ab6e906900000000
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[STA->AP] /dev/ttyUSB1 LOG: tcp: open_req conn=9 port=8060 wifi_status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1
[STA->AP] /dev/ttyUSB1 LOG: tcp: connect_spawn conn=9 port=8060 rc=1
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=7 port=7060 len=46 head=6c657765695f636d6400010000000000000000000000000000000000000000000000000000000000000000000000
[AP->STA] /dev/ttyUSB0 UDP conn=6000 port=40000 len=7 head=63630100000000
[AP->STA] /dev/ttyUSB0 TCP_DATA conn=7 port=7060 len=46 head=6c657765695f636d6400010000000000000000000000000000000000000000000000000000000000000000000000
[STA->AP] /dev/ttyUSB1 LOG: wifi: hb ssid=RADCLOFPV_839819 status=3 rssi=-13 ip=192.168.0.2 gw=192.168.0.1 drone_ip=192.168.0.1 udp_tx=12 udp_rx=376
