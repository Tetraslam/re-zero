# GLM-4.7V x Config Verification
# 2x H100: GPU 0 = inference (vLLM), GPU 1 = trainer (torchrun)

inference_gpu_ids = [0]
trainer_gpu_ids = [1]

max_steps = 200
seq_len = 4096
clean = false
output_dir = "/root/checkpoints/glm47v-config-verification"

[model]
name = "THUDM/GLM-4.7V"

[wandb]
project = "re-zero"
name = "glm47v-config-verification"
offline = true

[ckpt]
interval = 5
keep_last = 3

[trainer.model]
trust_remote_code = true

[trainer.optim]
lr = 3e-6
weight_decay = 0.0

[orchestrator]
batch_size = 256
rollouts_per_example = 16

[orchestrator.sampling]
max_tokens = 512

[[orchestrator.env]]
id = "intertwine/sv-env-config-verification"

[inference.model]
trust_remote_code = true
enable_auto_tool_choice = true
tool_call_parser = "hermes"

[inference.parallel]
dp = 1
